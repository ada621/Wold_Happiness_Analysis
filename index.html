<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>World Happiness Analysis</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background: #f4f6f8;
            margin: 0;
            padding: 0;
            color: #333;
        }
        header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 40px 20px;
            text-align: center;
        }
        header h1 {
            margin: 0;
            font-size: 2.5rem;
        }
        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        main {
            max-width: 1100px;
            margin: auto;
            padding: 20px;
        }
        section {
            background: white;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }
        section h2 {
            border-left: 5px solid #667eea;
            padding-left: 10px;
            color: #444;
        }
        img {
            max-width: 100%;
            border-radius: 8px;
            margin-top: 15px;
        }
        footer {
            text-align: center;
            padding: 15px;
            background: #eee;
            font-size: 0.9rem;
            color: #666;
        }
    </style>
</head>
<body>

<header>
    <h1>ğŸŒ World Happiness Analysis</h1>
    <p>Analysis and Visualization of World Happiness Data</p>
</header>

<main>
    <section style="background: linear-gradient(135deg, #ffffff, #f8f9fc); padding: 25px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.05); margin-bottom: 30px;">
        <h2 style="display: flex; align-items: center; font-size: 1.8rem; color: #444;">
            ğŸ¯ <span style="margin-left: 10px;">The Goal of My Project</span>
        </h2>
        <p style="font-size: 1.05rem; line-height: 1.6; color: #555;">
            In this project, I worked with the 2018 and 2019 World Happiness datasets.
            My aim was to analyze the internal structure of each yearâ€™s data and explore the differences
            and changes between them over time.

â• In addition to obtaining prediction results, I performed a comprehensive statistical analysis that included evaluating the model, testing regression
    assumptions, and comparing coefficients to gain deeper insights into the data.

ğŸ¯ Beyond the technical aspect, my goal was also to strengthen my statistical analysis skills while leveraging my psychology background to interpret the 
    findings within a broader psychological and sociological context.
        </p>

        <div style="display: flex; flex-wrap: wrap; gap: 20px; margin-top: 20px;">
            <!-- Variables List -->
            <div style="flex: 1; min-width: 250px;">
                <h3 style="color: #667eea;">ğŸ“Œ Variables</h3>
                <ul style="list-style: none; padding-left: 0; line-height: 1.8;">
                    <li>ğŸ’° GDP per capita</li>
                    <li>ğŸ¤ Social support</li>
                    <li>ğŸ¥ Healthy life expectancy</li>
                    <li>ğŸ—½ Freedom to make life choices</li>
                    <li>ğŸ’ Generosity</li>
                    <li>âš–ï¸ Perceptions of corruption</li>
                </ul>
            </div>

            <!-- Models List -->
            <div style="flex: 1; min-width: 250px;">
                <h3 style="color: #667eea;">ğŸ§® Models Tested</h3>
                <ul style="list-style: none; padding-left: 0; line-height: 1.8;">
                    <li>OLS (Ordinary Least Squares)</li>
                    <li>Robust OLS</li>
                    <li>WLS (Weighted Least Squares)</li>
                    <li>Gradient Boosting</li>
                </ul>
            </div>
        </div>

        <h3 style="color: #667eea; margin-top: 20px;">ğŸ“Š Evaluation Criteria</h3>
        <ul style="list-style: none; padding-left: 0; line-height: 1.8;">
            <li>ğŸ“ AIC</li>
            <li>ğŸ“ BIC</li>
            <li>ğŸ“Š R-squared (RÂ²)</li>
            <li>ğŸ”— Correlation with Happiness Score</li>
            <li>ğŸ”Regression Assumptions</li>
            <li>ğŸ“ˆConfidence Intervals</li>
            <li>ğŸ’¡Model Comparison</li>
        </ul>

        <h3 style="color: #667eea; margin-top: 20px;">ğŸ† Outcomes</h3>
        <ul style="list-style: none; padding-left: 0; line-height: 1.8;">
            <li>2018 â†’ <strong>OLS model</strong> performed best</li>
            <li>2019 â†’ <strong>Robust OLS model</strong> performed best</li>
        </ul>

        <p style="margin-top: 15px; font-size: 1rem; line-height: 1.6; color: #555;">
            This framework was designed to be <strong>modular, reusable, and well-documented</strong>, making it adaptable for other datasets or extended with additional statistical methods.
        </p>

        <p style="margin-top: 10px; font-size: 0.95rem; color: #666;">
            â€¼ï¸ğŸ’¡ More details: <a href="https://github.com/ada621/World_Happiness_Analysis/tree/main" target="_blank" style="color: #667eea; text-decoration: none;">Project Repository</a>
        </p>
    </section>

    <section>
        <h2>ğŸ“ŠEffect of Variables by Year</h2>
        <p>This graph shows how the factors affecting happiness scores changed between 2018 and 2019.</p>
        <img src="figures/degisken_etkileri_yillar.png" alt="DeÄŸiÅŸken Etkileri YÄ±llar">
        <p>ğŸ“¢Looking at the variable effects chart, we see that in 2019 the effects of social support, freedom to make life choices, healthy life 
        expectancy, and perception of corruption increased, while the effects of GDP per capita and generosity decreased.These changes are
        generally around Â±0.2. However,since the effects of perception of corruption and generosity are quite weak, we can mostly talk about
        their indirect influence rather than a direct one.</p>

        <p>From these results, it can be said that freedom to make life choices has a very important and key role in happiness scores. At the same 
        time, social supportâ€”reflecting interpersonal relationshipsâ€”and factors with roughly the same level of influence, such as income
        distribution (GDPper capita) and healthy life expectancy, are among the most influential and should be considered carefully.</p>

        <p>Both generosity and social support relate to social relationships, but the weak effect of generosity can be explained in a few ways:
        Generosity mainly refers to helping others, while social support is more about receiving helpâ€”support that people get during difficult
        times or when in need.</p>

        <p>Another important difference is that generosity is often limited to our close social circle, whereas social support can come both 
        from personal networks like family and friends and from more structured sources such as institutions or organizations.Therefore, the 
        scope of support and impact on individuals can differ significantly.</p>
    </section>

    <section>
        <h2>ğŸ˜ŠHappiness Label Distribution</h2>
        <p>The distribution of happiness scores by labels is shown in the graph below..</p>
        <img src="figures/mutluluk_etiket_dagilimi.png" alt="Mutluluk Etiket DaÄŸÄ±lÄ±mÄ±">
        <p>ğŸ“¢In the happiness label distribution bar chart, the "above average" label increased in 2019 compared to 2018. The "average" and "low"
        labels slightly decreased in 2019, while the "very low" label showed a small increase. For the "high" label, we don't see any change.</p>

        <p>From this, we can say that in 2019 the labels shifted more toward the extremes. As the "average" label decreased, the "above average"
        and "very low" labels increased. However, the fact that the "high" label didn't change suggests that this shift wasn't very strong.
        There could be a few reasons for this shift--->
        We previously found that GDP per capita had a stronger positive effect on the happiness score in 2018.The decrease in GDP per capita's
        effect might have influenced the label changes.
        Another factor affecting the label changes could be the combination of independent variables.
        for example:
        The "freedom to make life choices" variable is the most influential variable.However,when we compare the United Kingdom's 2018 and 
        2019 data, we see that the freedom to make life choice variable decreased in 2019, while GDP per capita, social support, and healthy 
        life expectancy scores increased. This could explain the difference in 2018 labels and why the 2019 label didn't change.
        Perhaps the increase in freedom to make a life choice balance out the decreases in the other variables.</p>
    </section>

    
<div style="border: 2px solid #ccc; padding: 15px; border-radius: 8px; background-color: #f9f9f9;">

    <h3>ğŸ“Š 2018 Regression Prediction</h3>
    <p>
        Overall, when comparing the original happiness scores with the predicted <em>new</em> happiness scores from the regression model, 
        we observe that even in countries with the highest initial scores, the predicted scores decrease, 
        and in some cases, the happiness label changes.
    </p>
    <ul>
        <li><strong>United Kingdom</strong> â€” (Happiness Scoreâ€¯=â€¯7.190, Labelâ€¯=â€¯High) â†’ (New Scoreâ€¯=â€¯6.290, Labelâ€¯=â€¯Above Average)</li>
        <li><strong>Costa Rica</strong> â€” (Happiness Scoreâ€¯=â€¯7.072, Labelâ€¯=â€¯High) â†’ (New Scoreâ€¯=â€¯6.210, Labelâ€¯=â€¯Above Average)</li>
    </ul>

    <p>However, in some countries, the opposite occurs â€” both the happiness score and the happiness label increase:</p>
    <ul>
        <li><strong>Qatar</strong> â€” (Happiness Scoreâ€¯=â€¯6.374, Labelâ€¯=â€¯Above Average) â†’ (New Scoreâ€¯=â€¯6.660, Labelâ€¯=â€¯High)</li>
        <li><strong>Singapore</strong> â€” (Happiness Scoreâ€¯=â€¯6.343, Labelâ€¯=â€¯Above Average) â†’ (New Scoreâ€¯=â€¯7.080, Labelâ€¯=â€¯High)</li>
    </ul>

    <p>These results suggest:</p>
    <ul>
        <li>Low scores (e.g., 3.49, 3.93) likely indicate countries with lower economic prosperity, freedom levels, or social support.</li>
        <li>High scores (e.g., 6.97, 6.71) suggest higher life satisfaction among citizens.</li>
        <li><em>GDP per capita</em> is expected to be higher up to a certain point, but given its relatively small effect on the dependent variable, 
            no major gap is expected between low- and high-scoring countries.</li>
        <li><em>Freedom to make life choices</em> is expected to be significantly higher in high-scoring countries, as this is the most influential variable.
        </li>
    </ul>

    <p>
        According to the modelâ€™s results, some countriesâ€™ happiness levels are lower than expected, potentially due to structural inequalities or lack of 
        social support.  
        Predicted scores above 6 reflect the positive effects of strong economic indicators and social wellâ€‘being.  
        When considered alongside the RMSE value, prediction errors are not large, indicating the model captures the general trend accurately.
    </p>

    <hr>

    <h3>ğŸ“Š 2019 Regression Prediction</h3>
    <p>
        A similar trend to 2018 is observed â€” overall, scores have generally decreased. However, the changes are not always the same.
    </p>
    <ul>
        <li><strong>United Kingdom</strong> â€” In 2018, the regression analysis result downgraded the label from <em>High</em> to <em>Above Average</em>, but
            in 2019, both the original and predicted labels remained <em>High</em>.</li>
    </ul>

    <p>Happiness label changes do not occur in all cases, but in some countries, they do:</p>
    <ul>
        <li><strong>Costa Rica</strong> â€” As in 2018, the label dropped from <em>High</em> to <em>Above Average</em> in the regression results.</li>
        <li><strong>Qatar</strong> â€” As in 2018, the label increased from <em>Above Average</em> to <em>High</em>.</li>
    </ul>

</div>
    
<section>
    <h2>âš–ï¸ Model Selection & Machine Learning Comparison</h2>
    
    <p><strong>2018:</strong> OLS was selected because no heteroskedasticity was detected 
    and the model fit the data well. It offered both interpretability and simplicity.</p>
    
    <p><strong>2019:</strong> Significant heteroskedasticity was present. After evaluating OLS, Robust OLS, WLS, and Gradient Boosting:</p>
    <ul>
        <li><strong>Robust OLS:</strong> reduced heteroskedasticity and was less sensitive to outliers.</li>
        <li><strong>WLS:</strong> achieved very high RÂ² (~0.99) but likely overfitted due to outliers.</li>
        <li><strong>GB:</strong> Its fit is weaker compared to the linear models, and it has a higher likelihood of deviating on outliers.</li>
    </ul>
    <p>Therefore, <strong>Robust OLS</strong> was chosen for 2019.</p>
    
    <h3>ğŸ“ˆ Additional ML Model Evaluation</h3>
    <p>To complement statistical models, a <strong>Gradient Boosting Regressor</strong> was tested for both years:</p>
    
    <ul>
        <li><strong>2018:</strong> RÂ² around 0.61 (lower than OLS at ~0.69) with slightly higher errors â†’ relationships appear mostly linear.</li>
        <li><strong>2019:</strong> RÂ² around 0.58 (slightly below Robust OLS at ~0.60) â†’ minimal gains without tuning.</li>
    </ul>
    
    <p><strong>Interpretation:</strong> Gradient Boosting did not outperform classical regression models in either year, 
    suggesting that the dataâ€™s predictorâ€“outcome relationships are predominantly linear. 
    For this reason, boosting was not selected as a primary model but included as a robustness check.</p>
    
    <h3>ğŸ† Final Selection</h3>
    <p><strong>2018 â†’ OLS | 2019 â†’ Robust OLS</strong></p>
</section>
   

    <section>
        <h2>ğŸ”Actual Values and Regression Predicted Values 2018</h2>
        <p>Comparison of model-predicted happiness scores with actual scores for 2018.</p>
        <img src="figures/tahmin_vs_gercek_2018.png" alt="Tahmin vs GerÃ§ek 2018">
        <p>ğŸ“¢In the 2018 dataset, the OLS model produced predictions very close to the actual values for most countries, with the majority 
        of points lying near the 45Â° reference lineâ€”indicating a strong overall fit. However, there is a slight underestimation tendency
        for high happiness scores and some overestimation for lower scores, suggesting that the model's performance at extreme values is slightly
        weaker compared to mid-range values.</p>
    </section>

    <section>
        <h2>ğŸ”Actual Values and Regression Predicted Values 2019</h2>
        <p>Comparison of model-predicted happiness scores with actual scores for 2019.</p>
        <img src="figures/tahmin_vs_gercek_2019.png" alt="Tahmin vs GerÃ§ek 2019">
        <p>ğŸ“¢In the 2019 dataset, the Robust OLS model produced predictions close to the actual values for most countries, with points clustering
        near the 45Â° line. Slight underestimation appears at higher scores, while some overestimation occurs at lower scores, indicating slightly weaker
        performance at extreme values.</p>
    </section>

    <section>
        <h2>ğŸ“Š Performance Metrics & Visual Comparisons</h2>
        
        <h3>ğŸ“Š Performance Table</h3>
        <p>This graph displays the comparison of the results from the model selection process.</p>
        <img src="figures/model_comparison_table.png" alt="Model Comparison Table">
        <p>ğŸ“¢This graph clearly supports the model selection rationale discussed above. In both 2018 and 2019, OLS, Robust OLS, and WLS produce identical 
            results, while GB shows a weaker fit to the dataset.
For the 2019 dataset, Robust OLS is the most appropriate choice because:
- The Breuschâ€“Pagan test confirmed the presence of heteroskedasticity.
- Due to the presence of outliers, using GB would be risky â€” and its fit was clearly weaker.
- Among the remaining models, Robust OLS performs on par without falling behind in accuracy.
For the 2018 dataset, the Breuschâ€“Pagan test found no heteroskedasticity. However, the Jarqueâ€“Bera normality test indicated the presence of outliers and a 
            nonâ€‘normal distribution.
- Given the outliers and GBâ€™s weaker fit compared to the other models, GB was excluded.
- Because the data is homoskedastic, Robust OLS is unnecessary.
- OLS is the most suitable model here due to its simplicity, interpretability, and strong performance.
In summary:
- 2018: OLS (homoskedastic, outliers present, GB weaker)
- 2019: Robust OLS (heteroskedastic, outliers present, GB weaker)
</p>
        
        <h3>ğŸ“Š Visual Comparisons</h3>
        <p>You can view the model predicted happiness scores with actual scores distribution in the following chart:</p>
        <img src="figures/predicted_vs_actual.png" alt="Predicted vs Actual">
        <p>-ğŸ“¢OLS, Robust OLS, WLS: Show similar predictive performance.
- However, since heteroskedasticity was detected in the 2019 dataset, Robust OLS is preferred for more reliable confidence intervals and pâ€‘values.
- In the 2018 dataset, no heteroskedasticity was observed, so OLS was sufficient.
- GB (Gradient Boosting) performed well overall, but exhibited more noticeable deviations for certain outliers.
In summary, while predictive accuracy was similar, the choice of model varied depending on the datasetâ€™s characteristics, with statistical reliability being
the key deciding factor.
</p>
    </section>
</main>

</body>
</html>
